{% extends '@OctopusPress/base.html.twig' %}
{% block header %}{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{{ asset('assets/css/tools.css') }}" />
{% endblock %}
{% block body %}
    <div class="w-screen mx-auto my-2 md:px-3 lg:px-8">
        <div class="isolate pt-2 px-4">
            {{ widget('breadcrumb', {template: 'summer/breadcrumb.html.twig'}) }}
        </div>
        <div class="flex">
            <div class="flex-1 px-4 mt-2">
                <div class="flex flex-col lg:flex-row items-start overflow-hidden">
                    <div class="flex-1 w-full" id="inputContainer">
                        <label>
                            <textarea id="inputString" class="h-[calc(100vh-50vh-5rem)] lg:h-[calc(100vh-10.75rem)] w-full rounded-md scrollable bg-slate-200 dark:bg-slate-800 dark:text-slate-300 border-transparent focus:bg-white focus:ring-0 focus:border-primary focus:dark:bg-slate-900/80" placeholder="输入编码解码字符..."></textarea>
                        </label>
                    </div>
                    <div class="w-1"></div>
                    <div class="flex-1 w-full" id="outputContainer">
                        <label>
                            <textarea id="outputString" class="h-[calc(100vh-50vh-5rem)] lg:h-[calc(100vh-10.75rem)] w-full rounded-md scrollable bg-slate-200 dark:bg-slate-800 dark:text-slate-300 border-transparent focus:bg-white focus:ring-0 focus:border-primary focus:dark:bg-slate-900/80" placeholder="编码解码结果..."></textarea>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block footer %}
    <footer class="p-6 bg-white dark:bg-slate-800 fixed bottom-0 w-full">
        <div class="mx-auto max-w-screen-xl text-center">
            <div class="text-sm text-gray-500 sm:text-center dark:text-gray-400">
                {% set beian = theme_mod('beian') %}
                <p>© {{ now|date('Y')}} Powered By <a target="_blank" href="https://octopuspress.dev" class="hover:underline">OctopusPress™</a>. {% if beian %}<a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" rel="nofollow">{{ beian }}</a>{% endif %}</p>
            </div>
        </div>
    </footer>
{% endblock %}
{% block script %}
<script type="text/javascript">
    var input = document.getElementById('inputString');
    var output = document.getElementById('outputString');
    input.addEventListener('keyup', function(event) {
        var value = event.target.value;
        var matches = value.match(/(%[A-F0-9]{2})/ig);
        if (matches && matches.length > 0) {
            try {
                output.value = decodeURIComponent(value);
            } catch (e) {
                output.value = "";
            }
        } else {
            output.value = encodeURIComponent(value);
        }
    });
</script>
{% endblock %}
